{"version":3,"sources":["Box.js","Line.js","Point.js","Size.js"],"names":[],"mappings":"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","file":"geometry.js","sourcesContent":["import Point from \"./Point\";\nimport Line from \"./Line\";\nimport Size from \"./Size\";\n\nvar prop = (name) => (obj) => obj[name];\n\nexport default class Box {\n\n  constructor(origin: Point, size: Size) {\n    Object.assign(this, { origin, size });\n  }\n\n  get x() {\n  \treturn this.origin.x;\n  }\n\n  get y() {\n  \treturn this.origin.y;\n  }\n\n  get width() {\n  \treturn this.size.width;\n  }\n\n  get height() {\n  \treturn this.size.height;\n  }\n\n  get center() {\n    return this.origin.add(new Point(this.size.width / 2, this.size.height / 2));\n  }\n\n  get bound() {\n    return this.origin.add(new Point(this.size.width, this.size.height));\n  }\n\n  corners() {\n    var topLeft = this.origin,\n        topRight = topLeft.add(new Point(this.width, 0)),\n        bottomRight = topRight.add(new Point(0, this.height)),\n        bottomLeft = topLeft.add(new Point(0, this.height));\n\n    return [topLeft, topRight, bottomRight, bottomLeft];\n  }\n\n  // @TODO: Move to Point\n  get crosshair() {\n    var center = this.center;\n\n    return [\n      new Line(new Point(-Infinity, center.y), new Point(Infinity, center.y)),\n      new Line(new Point(center.x, -Infinity), new Point(center.x, Infinity))\n    ];\n  }\n\n  pad(size: number): Box {\n    return new Box(\n      this.origin.add(new Point(-size, -size)),\n      this.size.add(new Size(size, size))\n    );\n  }\n\n  // @TODO: Determine some kind of generalized algorthim for closed list walking\n  edges() {\n    return this.corners().reduce((prev, cur, idx, array) => {\n      if (!prev.last) {\n        prev.last = cur;\n        return prev;\n      }\n      prev.push(new Line(prev.last, cur));\n\n      if (idx === array.length - 1) prev.push(new Line(cur, array[0]));\n      return prev;\n    }, []);\n  }\n\n  contains(point: Point) {\n  \treturn (\n      (this.x <= point.x && point.x <= (this.x + this.width)) &&\n      (this.y <= point.y && point.y <= (this.y + this.height))\n    );\n  }\n\n  get overlaps() {\n    return (box) => {\n      var p1 = this.origin, p2 = this.bound, p3 = box.origin, p4 = box.bound;\n      return !(p2.y < p3.y || p1.y > p4.y || p2.x < p3.x || p1.x > p4.x);\n    };\n  }\n\n  toPairs() {\n    return [this.origin.x, this.origin.y, this.size.width, this.size.height];\n  }\n\n  static bound(boxes: Array<Box>): Box {\n    var o = boxes.map(prop('origin')), b = boxes.map(prop('bound'));\n    var origins = { x: o.map(prop('x')), y: o.map(prop('y')) };\n    var bounds  = { x: b.map(prop('x')), y: b.map(prop('y')) };\n\n    var x = Math.min(...origins.x), y = Math.min(...origins.y),\n        width = Math.max(...bounds.x) - x, height = Math.max(...bounds.y) - y;\n\n    return Box.fromPairs(x, y, width, height);\n  }\n\n  static fromPairs(x: number, y: number, width: number, height: number): Box {\n    return new Box(new Point(x, y), new Size(width, height));\n  }\n}","import Point from \"./Point\";\nimport Size from \"./Size\";\nimport Box from \"./Box\";\n\nexport default class Line {\n\n  constructor(origin: Point, destination: Point) {\n    Object.assign(this, { origin, destination });\n    this._svgTpl = (o, d) => `M ${o.x} ${o.y} L ${d.x} ${d.y}`;\n  }\n\n  from(origin: Point): Line {\n    return new Line(origin, this.destination);\n  }\n\n  to(destination: Point): Line {\n    return new Line(this.origin, destination);\n  }\n\n  add(offset: Point): Line {\n    return new Line(this.origin.add(offset), this.destination.add(offset));\n  }\n\n  crosses(line: Line): boolean {\n    var q = (\n      (this.origin.y - line.origin.y) *\n      (line.destination.x - line.origin.x) -\n      (this.origin.x - line.origin.x) *\n      (line.destination.y - line.origin.y)\n    );\n    var d = (\n      (this.destination.x - this.origin.x) *\n      (line.destination.y - line.origin.y) -\n      (this.destination.y - this.origin.y) *\n      (line.destination.x - line.origin.x)\n    );\n    if (d === 0) return false;\n\n    var r = q / d;\n    q = (\n      (this.origin.y - line.origin.y) *\n      (this.destination.x - this.origin.x) -\n      (this.origin.x - line.origin.x) *\n      (this.destination.y - this.origin.y)\n    );\n\n    var s = q / d;\n    return !(r < 0 || r > 1 || s < 0 || s > 1);\n  }\n\n  intersection(line: Line): Point {\n    var denominator, a, b, numerator1, numerator2;\n    denominator = ((line.destination.y - line.origin.y) * (this.destination.x - this.origin.x)) - ((line.destination.x - line.origin.x) * (this.destination.y - this.origin.y));\n\n    if (denominator === 0) {\n      return null;\n    }\n\n    a = this.origin.y - line.origin.y;\n    b = this.origin.x - line.origin.x;\n    numerator1 = ((line.destination.x - line.origin.x) * a) - ((line.destination.y - line.origin.y) * b);\n    numerator2 = ((this.destination.x - this.origin.x) * a) - ((this.destination.y - this.origin.y) * b);\n    a = numerator1 / denominator;\n    b = numerator2 / denominator;\n\n    if (!(a > 0 && a < 1) || !(b > 0 && b < 1)) {\n      return null;\n    }\n\n    return new Point(\n      this.origin.x + (a * (this.destination.x - this.origin.x)),\n      this.origin.y + (a * (this.destination.y - this.origin.y))\n    );\n  }\n\n  intersects(box: Box) {\n    return (\n      box.contains(this.origin) ||\n      box.contains(this.destination) ||\n      box.edges().map(edge => edge.crosses(this)).indexOf(true) >= 0\n    );\n  }\n\n  bounds(): Box {\n    return new Box(\n      new Point(\n        Math.min(this.origin.x, this.destination.x),\n        Math.min(this.origin.y, this.destination.y)\n      ),\n      new Size(\n        Math.abs(this.origin.x - this.destination.x),\n        Math.abs(this.origin.y - this.destination.y)\n      )\n    );\n  }\n\n  toStyle(): Object {\n    var x1 = this.origin.x, y1 = this.origin.y, x2 = this.destination.x, y2 = this.destination.y;\n    var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n    var transform = `rotate(${angle}deg)`;\n\n    return {\n      '-webkit-transform': transform,\n      '-moz-transform':    transform,\n      transform:           transform,\n      width:               length,\n      left:                x1,\n      top:                 y1\n    };\n  }\n\n  toPairs() {\n    return [this.origin.x, this.origin.y, this.destination.x, this.destination.y];\n  }\n\n  toJSON() {\n    return { origin: this.origin, destination: this.destination };\n  }\n\n  toSVG() {\n    return this._svgTpl(this.origin, this.destination);\n  }\n\n  static fromPairs(x1: number, y1: number, x2: number, y2: number): Line {\n    return new Line(new Point(x1, y1), new Point(x2, y2));\n  }\n}","export default class Point {\n\n  constructor(_x: number = 0, _y: number = 0) {\n    Object.freeze(Object.assign(this, { _x, _y }));\n  }\n\n  add(point): Point {\n    var adding = Point.instance(point);\n    return new Point(this._x + adding.x, this._y + adding.y);\n  }\n\n  subtract(point: Point): Point {\n    return new Point(this._x - point._x, this._y - point._y);\n  }\n\n  product(point: Point): number {\n    return this._x * point._y - this._y * point._x;\n  }\n\n  equals(point: Point): boolean {\n    return this._x === point._x && this._y === point._y;\n  }\n\n  invert(): Point {\n    return new Point(-this._x, -this._y);\n  }\n\n  distance(point: Point): number {\n    return Math.sqrt(Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2));\n  }\n\n  manhattanDistance(point: Point): number {\n    return Math.abs(point.x - this.x) + Math.abs(point.y - this.y);\n  }\n\n  snapTo(xSize: number, ySize: number): Point {\n    ySize = ySize || xSize;\n    return new Point(xSize * Math.round(this.x / xSize), ySize * Math.round(this.y / ySize));\n  }\n\n  theta(point: Point): number {\n    var y = -(point.y - this.y);\n    var x = point.x - this.x;\n\n    var PRECISION = 10;\n    var rad = (y.toFixed(PRECISION) === 0 && x.toFixed(PRECISION) === 0) ? 0 : Math.atan2(y, x);\n\n    return 180 * ((rad < 0) ? (2 * Math.PI + rad) : rad) / Math.PI;\n  }\n\n  get x(): number {\n  \treturn this._x;\n  }\n\n  get y(): number {\n  \treturn this._y;\n  }\n\n  get transform(): string {\n    return `translate(${this._x}, ${this._y})`;\n  }\n\n  toJSON() {\n    return { x: this._x, y: this._y };\n  }\n\n  toString() {\n    return `${this._x}, ${this._y}`;\n  }\n\n  static instance(x, y): Point {\n    if (x instanceof Point) return x;\n    if (x && x.hasOwnProperty('x')) return new Point(x.x, x.y);\n    if (x && x.length && x.length >= 2) return new Point(x[0], x[1]);\n    return new Point(x, y);\n  }\n\n  static fromString(str): Point {\n    return new Point(...(str.split(',').map(val => parseInt(val, 10))));\n  }\n}","export default class Size {\n\n  constructor(width: number, height: number) {\n    var [_w, _h] = [width, height];\n    Object.assign(this, { _w, _h });\n  }\n\n  add(size: Size): Size {\n  \treturn new Size(this._w + size.width, this._h + size.height);\n  }\n\n  get width(): number {\n  \treturn this._w;\n  }\n\n  get height(): number {\n  \treturn this._h;\n  }\n\n  get transform(): string {\n    return `scale(${this._w}, ${this._h})`;\n  }\n\n  toJSON() {\n    return { width: this._w, height: this._h };\n  }\n\n  static instance(width, height) {\n    if (width && width.hasOwnProperty('width')) return new Size(width.width, width.height);\n    if (width && width.length && width.length >= 2) return new Size(...width);\n    return new Size(width, height);\n  }\n}"],"sourceRoot":"/source/"}