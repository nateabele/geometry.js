{"version":3,"sources":["Box.js","Line.js","Point.js","Size.js"],"names":[],"mappings":"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","file":"geometry.js","sourcesContent":["import Point from \"./Point\";\nimport Line from \"./Line\";\nimport Size from \"./Size\";\n\nvar prop = (name) => {\n  return (obj) => obj[name];\n};\n\nexport default class Box {\n\n  constructor(origin: Point, size: Size) {\n    Object.assign(this, { origin, size });\n  }\n\n  get x() {\n  \treturn this.origin.x;\n  }\n\n  get y() {\n  \treturn this.origin.y;\n  }\n\n  get width() {\n  \treturn this.size.width;\n  }\n\n  get height() {\n  \treturn this.size.height;\n  }\n\n  get center() {\n    return this.origin.add(new Point(this.size.width / 2, this.size.height / 2));\n  }\n\n  get bound() {\n    return this.origin.add(new Point(this.size.width, this.size.height));\n  }\n\n  corners() {\n    var topLeft = this.origin,\n        topRight = topLeft.add(new Point(this.width, 0)),\n        bottomRight = topRight.add(new Point(0, this.height)),\n        bottomLeft = topLeft.add(new Point(0, this.height));\n\n    return [topLeft, topRight, bottomLeft, bottomRight];\n  }\n\n  // @TODO: Move to Point\n  get crosshair() {\n    var center = this.center;\n\n    return [\n      new Line(new Point(-Infinity, center.y), new Point(Infinity, center.y)),\n      new Line(new Point(center.x, -Infinity), new Point(center.x, Infinity))\n    ];\n  }\n\n  pad(size: number) {\n    return new Box(\n      this.origin.add(new Point(-size, -size)),\n      this.size.add(new Size(size, size))\n    );\n  }\n\n  // @TODO: Determine some kind of generalized algorthim for closed list walking\n  edges() {\n    return this.corners().reduce((prev, cur, idx, array) => {\n      if (!prev.last) {\n        prev.last = cur;\n        return prev;\n      }\n      prev.push(new Line(prev.last, cur));\n\n      if (idx === array.length - 1) prev.push(new Line(cur, array[0]));\n      return prev;\n    }, []);\n  }\n\n  contains(point: Point) {\n  \treturn (\n      (this.x <= point.x && point.x <= (this.x + this.width)) &&\n      (this.y <= point.y && point.y <= (this.y + this.height))\n    );\n  }\n\n  get overlaps() {\n    return (box) => {\n      var p1 = this.origin, p2 = this.bound, p3 = box.origin, p4 = box.bound;\n      return !(p2.y < p3.y || p1.y > p4.y || p2.x < p3.x || p1.x > p4.x);\n    };\n  }\n\n  toPairs() {\n    return [this.origin.x, this.origin.y, this.size.width, this.size.height];\n  }\n\n  static bound(boxes: Array<Box>): Box {\n    var o = boxes.map(prop('origin')), b = boxes.map(prop('bound'));\n    var origins = { x: o.map(prop('x')), y: o.map(prop('y')) };\n    var bounds  = { x: b.map(prop('x')), y: b.map(prop('y')) };\n\n    var x = Math.min(...origins.x), y = Math.min(...origins.y),\n        width = Math.max(...bounds.x) - x, height = Math.max(...bounds.y) - y;\n\n    return Box.fromPairs(x, y, width, height);\n  }\n\n  static fromPairs(x: number, y: number, width: number, height: number): Box {\n    return new Box(new Point(x, y), new Size(width, height));\n  }\n}","import Point from \"./Point\";\nimport Size from \"./Size\";\nimport Box from \"./Box\";\n\nexport default class Line {\n\n  constructor(origin: Point, destination: Point) {\n    Object.assign(this, { origin, destination });\n    this._svgTpl = (o, d) => `M ${o.x} ${o.y} L ${d.x} ${d.y}`;\n  }\n\n  from(origin: Point): Line {\n    return new Line(origin, this.destination);\n  }\n\n  to(destination: Point): Line {\n    return new Line(this.origin, destination);\n  }\n\n  add(offset: Point): Line {\n    return \n  }\n\n  crosses(line: Line): boolean {\n    var q = (\n      (this.origin.y - line.origin.y) *\n      (line.destination.x - line.origin.x) -\n      (this.origin.x - line.origin.x) *\n      (line.destination.y - line.origin.y)\n    );\n    var d = (\n      (this.destination.x - this.origin.x) *\n      (line.destination.y - line.origin.y) -\n      (this.destination.y - this.origin.y) *\n      (line.destination.x - line.origin.x)\n    );\n    if (d === 0) return false;\n\n    var r = q / d;\n    q = (\n      (this.origin.y - line.origin.y) *\n      (this.destination.x - this.origin.x) -\n      (this.origin.x - line.origin.x) *\n      (this.destination.y - this.origin.y)\n    );\n\n    var s = q / d;\n    return !(r < 0 || r > 1 || s < 0 || s > 1);\n  }\n\n  intersection(line: Line): Point {\n    var denominator, a, b, numerator1, numerator2;\n    denominator = ((line.destination.y - line.origin.y) * (this.destination.x - this.origin.x)) - ((line.destination.x - line.origin.x) * (this.destination.y - this.origin.y));\n\n    if (denominator === 0) {\n      return null;\n    }\n\n    a = this.origin.y - line.origin.y;\n    b = this.origin.x - line.origin.x;\n    numerator1 = ((line.destination.x - line.origin.x) * a) - ((line.destination.y - line.origin.y) * b);\n    numerator2 = ((this.destination.x - this.origin.x) * a) - ((this.destination.y - this.origin.y) * b);\n    a = numerator1 / denominator;\n    b = numerator2 / denominator;\n\n    if (!(a > 0 && a < 1) || !(b > 0 && b < 1)) {\n      return null;\n    }\n\n    return new Point(\n      this.origin.x + (a * (this.destination.x - this.origin.x)),\n      this.origin.y + (a * (this.destination.y - this.origin.y))\n    );\n  }\n\n  intersects(box: Box) {\n    return (\n      box.contains(this.origin) ||\n      box.contains(this.destination) ||\n      box.edges().map(edge => edge.crosses(this)).indexOf(true) >= 0\n    );\n  }\n\n  bounds(): Box {\n    return new Box(\n      new Point(\n        Math.min(this.origin.x, this.destination.x),\n        Math.min(this.origin.y, this.destination.y)\n      ),\n      new Size(\n        Math.abs(this.origin.x - this.destination.x),\n        Math.abs(this.origin.y - this.destination.y)\n      )\n    );\n  }\n\n  toStyle(): Object {\n    var x1 = this.origin.x, y1 = this.origin.y, x2 = this.destination.x, y2 = this.destination.y;\n    var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n    var transform = `rotate(${angle}deg)`;\n\n    return {\n      '-webkit-transform': transform,\n      '-moz-transform':    transform,\n      transform:           transform,\n      width:               length,\n      left:                x1,\n      top:                 y1\n    };\n  }\n\n  toPairs() {\n    return [this.origin.x, this.origin.y, this.destination.x, this.destination.y];\n  }\n\n  toJSON() {\n    return { origin: this.origin, destination: this.destination };\n  }\n\n  toSVG() {\n    return this._svgTpl(this.origin, this.destination);\n  }\n\n  static fromPairs(x1: number, y1: number, x2: number, y2: number): Line {\n    return new Line(new Point(x1, y1), new Point(x2, y2));\n  }\n}","import Box from \"./Box\";\n\nclass Point {\n\n  constructor(x: number = 0, y: number = 0) {\n    var [_x, _y] = [x, y];\n    Object.assign(this, { _x, _y });\n  }\n\n  add(point: Point): Point {\n  \treturn new Point(this._x + point.x, this._y + point.y);\n  }\n\n  subtract(point: Point): Point {\n    return new Point(this._x - point._x, this._y - point._y);\n  }\n\n  product(point: Point): number {\n    return this._x * point._y - this._y * point._x;\n  }\n\n  equals(point: Point): boolean {\n    return this._x === point._x && this._y === point._y;\n  }\n\n  invert(): Point {\n    return new Point(-this._x, -this._y);\n  }\n\n  isIn(box: Box): boolean {\n    return box.contains(this);\n  }\n\n  distance(point: Point): number {\n    return Math.sqrt(Math.pow(point.x - this.x, 2) + Math.pow(point.y - this.y, 2));\n  }\n\n  manhattanDistance(point: Point): number {\n    return Math.abs(point.x - this.x) + Math.abs(point.y - this.y);\n  }\n\n  snapTo(xSize: number, ySize: number): Point {\n    ySize = ySize || xSize;\n    return new Point(xSize * Math.round(this.x / xSize), ySize * Math.round(this.y / ySize));\n  }\n\n  theta(point: Point): number {\n    var y = -(point.y - this.y);\n    var x = point.x - this.x;\n\n    var PRECISION = 10;\n    var rad = (y.toFixed(PRECISION) === 0 && x.toFixed(PRECISION) === 0) ? 0 : Math.atan2(y, x);\n\n    return 180 * ((rad < 0) ? (2 * Math.PI + rad) : rad) / Math.PI;\n  }\n\n  get x() {\n  \treturn this._x;\n  }\n\n  get y() {\n  \treturn this._y;\n  }\n\n  get transform() {\n    return `translate(${this._x}, ${this._y})`;\n  }\n\n  toJSON() {\n    return { x: this._x, y: this._y };\n  }\n\n  toString() {\n    return `${this._x}, ${this._y}`;\n  }\n\n  static fromString(str) {\n    return new Point(...(str.split(',').map(val => parseInt(val, 10))));\n  }\n}\n\nexport default Point;","export default class Size {\n\n  constructor(width: number, height: number) {\n    var [_w, _h] = [width, height];\n    Object.assign(this, { _w, _h });\n  }\n\n  add(size: Size): Size {\n  \treturn new Size(this._w + size.width, this._h + size.height);\n  }\n\n  get width() {\n  \treturn this._w;\n  }\n\n  get height() {\n  \treturn this._h;\n  }\n\n  get transform() {\n    return `scale(${this._w}, ${this._h})`;\n  }\n\n  toJSON() {\n    return { width: this._w, height: this._h };\n  }\n}\n"],"sourceRoot":"/source/"}