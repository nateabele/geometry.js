"use strict";var _interopRequireWildcard=function(t){return t&&t.__esModule?t:{"default":t}},_toConsumableArray=function(t){if(Array.isArray(t)){for(var i=0,n=Array(t.length);i<t.length;i++)n[i]=t[i];return n}return Array.from(t)},_classCallCheck=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();Object.defineProperty(exports,"__esModule",{value:!0});var _Point=require("./Point"),_Point2=_interopRequireWildcard(_Point),_Line=require("./Line"),_Line2=_interopRequireWildcard(_Line),_Size=require("./Size"),_Size2=_interopRequireWildcard(_Size),prop=function(t){return function(i){return i[t]}},Box=function(){function t(i,n){_classCallCheck(this,t),Object.assign(this,{origin:i,size:n})}return _createClass(t,[{key:"x",get:function(){return this.origin.x}},{key:"y",get:function(){return this.origin.y}},{key:"width",get:function(){return this.size.width}},{key:"height",get:function(){return this.size.height}},{key:"center",get:function(){return this.origin.add(new _Point2["default"](this.size.width/2,this.size.height/2))}},{key:"bound",get:function(){return this.origin.add(new _Point2["default"](this.size.width,this.size.height))}},{key:"corners",value:function(){var t=this.origin,i=t.add(new _Point2["default"](this.width,0)),n=i.add(new _Point2["default"](0,this.height)),e=t.add(new _Point2["default"](0,this.height));return[t,i,e,n]}},{key:"crosshair",get:function(){var t=this.center;return[new _Line2["default"](new _Point2["default"](-(1/0),t.y),new _Point2["default"](1/0,t.y)),new _Line2["default"](new _Point2["default"](t.x,-(1/0)),new _Point2["default"](t.x,1/0))]}},{key:"pad",value:function(i){return new t(this.origin.add(new _Point2["default"](-i,-i)),this.size.add(new _Size2["default"](i,i)))}},{key:"edges",value:function(){return this.corners().reduce(function(t,i,n,e){return t.last?(t.push(new _Line2["default"](t.last,i)),n===e.length-1&&t.push(new _Line2["default"](i,e[0])),t):(t.last=i,t)},[])}},{key:"contains",value:function(t){return this.x<=t.x&&t.x<=this.x+this.width&&this.y<=t.y&&t.y<=this.y+this.height}},{key:"overlaps",get:function(){var t=this;return function(i){var n=t.origin,e=t.bound,r=i.origin,o=i.bound;return!(e.y<r.y||n.y>o.y||e.x<r.x||n.x>o.x)}}},{key:"toPairs",value:function(){return[this.origin.x,this.origin.y,this.size.width,this.size.height]}}],[{key:"bound",value:function(i){var n=i.map(prop("origin")),e=i.map(prop("bound")),r={x:n.map(prop("x")),y:n.map(prop("y"))},o={x:e.map(prop("x")),y:e.map(prop("y"))},a=Math.min.apply(Math,_toConsumableArray(r.x)),s=Math.min.apply(Math,_toConsumableArray(r.y)),u=Math.max.apply(Math,_toConsumableArray(o.x))-a,h=Math.max.apply(Math,_toConsumableArray(o.y))-s;return t.fromPairs(a,s,u,h)}},{key:"fromPairs",value:function(i,n,e,r){return new t(new _Point2["default"](i,n),new _Size2["default"](e,r))}}]),t}();exports["default"]=Box,module.exports=exports["default"];var _interopRequireWildcard=function(t){return t&&t.__esModule?t:{"default":t}},_classCallCheck=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();Object.defineProperty(exports,"__esModule",{value:!0});var _Point=require("./Point"),_Point2=_interopRequireWildcard(_Point),_Size=require("./Size"),_Size2=_interopRequireWildcard(_Size),_Box=require("./Box"),_Box2=_interopRequireWildcard(_Box),Line=function(){function t(i,n){_classCallCheck(this,t),Object.assign(this,{origin:i,destination:n}),this._svgTpl=function(t,i){return"M "+t.x+" "+t.y+" L "+i.x+" "+i.y}}return _createClass(t,[{key:"from",value:function(i){return new t(i,this.destination)}},{key:"to",value:function(i){return new t(this.origin,i)}},{key:"add",value:function(t){}},{key:"crosses",value:function(t){var i=(this.origin.y-t.origin.y)*(t.destination.x-t.origin.x)-(this.origin.x-t.origin.x)*(t.destination.y-t.origin.y),n=(this.destination.x-this.origin.x)*(t.destination.y-t.origin.y)-(this.destination.y-this.origin.y)*(t.destination.x-t.origin.x);if(0===n)return!1;var e=i/n;i=(this.origin.y-t.origin.y)*(this.destination.x-this.origin.x)-(this.origin.x-t.origin.x)*(this.destination.y-this.origin.y);var r=i/n;return!(0>e||e>1||0>r||r>1)}},{key:"intersection",value:function(t){var i,n,e,r,o;return i=(t.destination.y-t.origin.y)*(this.destination.x-this.origin.x)-(t.destination.x-t.origin.x)*(this.destination.y-this.origin.y),0===i?null:(n=this.origin.y-t.origin.y,e=this.origin.x-t.origin.x,r=(t.destination.x-t.origin.x)*n-(t.destination.y-t.origin.y)*e,o=(this.destination.x-this.origin.x)*n-(this.destination.y-this.origin.y)*e,n=r/i,e=o/i,n>0&&1>n&&e>0&&1>e?new _Point2["default"](this.origin.x+n*(this.destination.x-this.origin.x),this.origin.y+n*(this.destination.y-this.origin.y)):null)}},{key:"intersects",value:function(t){var i=this;return t.contains(this.origin)||t.contains(this.destination)||t.edges().map(function(t){return t.crosses(i)}).indexOf(!0)>=0}},{key:"bounds",value:function(){return new _Box2["default"](new _Point2["default"](Math.min(this.origin.x,this.destination.x),Math.min(this.origin.y,this.destination.y)),new _Size2["default"](Math.abs(this.origin.x-this.destination.x),Math.abs(this.origin.y-this.destination.y)))}},{key:"toStyle",value:function(){var t=this.origin.x,i=this.origin.y,n=this.destination.x,e=this.destination.y,r=Math.sqrt((t-n)*(t-n)+(i-e)*(i-e)),o=180*Math.atan2(e-i,n-t)/Math.PI,a="rotate("+o+"deg)";return{"-webkit-transform":a,"-moz-transform":a,transform:a,width:r,left:t,top:i}}},{key:"toPairs",value:function(){return[this.origin.x,this.origin.y,this.destination.x,this.destination.y]}},{key:"toJSON",value:function(){return{origin:this.origin,destination:this.destination}}},{key:"toSVG",value:function(){return this._svgTpl(this.origin,this.destination)}}],[{key:"fromPairs",value:function(i,n,e,r){return new t(new _Point2["default"](i,n),new _Point2["default"](e,r))}}]),t}();exports["default"]=Line,module.exports=exports["default"];var _interopRequireWildcard=function(t){return t&&t.__esModule?t:{"default":t}},_bind=Function.prototype.bind,_toConsumableArray=function(t){if(Array.isArray(t)){for(var i=0,n=Array(t.length);i<t.length;i++)n[i]=t[i];return n}return Array.from(t)},_classCallCheck=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();Object.defineProperty(exports,"__esModule",{value:!0});var _Box=require("./Box"),_Box2=_interopRequireWildcard(_Box),Point=function(){function t(){var i=void 0===arguments[0]?0:arguments[0],n=void 0===arguments[1]?0:arguments[1];_classCallCheck(this,t);var e=i,r=n;Object.assign(this,{_x:e,_y:r})}return _createClass(t,[{key:"add",value:function(i){return new t(this._x+i.x,this._y+i.y)}},{key:"subtract",value:function(i){return new t(this._x-i._x,this._y-i._y)}},{key:"product",value:function(t){return this._x*t._y-this._y*t._x}},{key:"equals",value:function(t){return this._x===t._x&&this._y===t._y}},{key:"invert",value:function(){return new t(-this._x,-this._y)}},{key:"isIn",value:function(t){return t.contains(this)}},{key:"distance",value:function(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))}},{key:"manhattanDistance",value:function(t){return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}},{key:"snapTo",value:function(i,n){return n=n||i,new t(i*Math.round(this.x/i),n*Math.round(this.y/n))}},{key:"theta",value:function(t){var i=-(t.y-this.y),n=t.x-this.x,e=10,r=0===i.toFixed(e)&&0===n.toFixed(e)?0:Math.atan2(i,n);return 180*(0>r?2*Math.PI+r:r)/Math.PI}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"transform",get:function(){return"translate("+this._x+", "+this._y+")"}},{key:"toJSON",value:function(){return{x:this._x,y:this._y}}},{key:"toString",value:function(){return""+this._x+", "+this._y}}],[{key:"fromString",value:function(i){return new(_bind.apply(t,[null].concat(_toConsumableArray(i.split(",").map(function(t){return parseInt(t,10)})))))}}]),t}();exports["default"]=Point,module.exports=exports["default"];var _classCallCheck=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},_createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();Object.defineProperty(exports,"__esModule",{value:!0});var Size=function(){function t(i,n){_classCallCheck(this,t);var e=i,r=n;Object.assign(this,{_w:e,_h:r})}return _createClass(t,[{key:"add",value:function(i){return new t(this._w+i.width,this._h+i.height)}},{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}},{key:"transform",get:function(){return"scale("+this._w+", "+this._h+")"}},{key:"toJSON",value:function(){return{width:this._w,height:this._h}}}]),t}();exports["default"]=Size,module.exports=exports["default"];